# PRD: 브랜드 맞춤형 AI 상담 에이전트 (오늘의집 판매자용 커튼 상담 SaaS)

## 📌 1. 프로젝트 개요

**목표:**

오늘의집에서 상품을 판매하는 중소 브랜드(예: 커튼, 린넨, 생활잡화 등)가 매일 반복적으로 받아야 하는 고객 문의(치수 계산, 수량 안내, 설치 가능 여부 등)를 **AI가 반자동으로 처리해주는 SaaS**를 제공한다.

고객사는 별도 CS 인력을 채용할 필요 없이, 오늘의집 Q&A에 올라오는 문의를 복사하여 AI에게 보내기만 하면 **브랜드 톤에 맞춘 정확한 답변 초안**을 5초 내로 받을 수 있다.

최종 목표는 브랜드당 **월 3~10만 원 수준의 구독 모델**로 운영되는 B2B SaaS 구축.

---

## 📌 2. 문제 정의

오늘의집 판매자들은 다음 문제를 겪고 있다:

- 하루 **30~100건 이상의 반복 문의** 발생
- 대부분이 **유사 패턴 질문**(가로/세로 치수, 장수, 레일 여부, 암막 여부 등)
- 오늘의집은 **공식 API가 없어** 자동 응답 기능 불가
- 고객은 상품 상세 가이드를 보아도 **직접 자신의 상황에 대입하기 어려움**
- CS 대응 속도가 **노출 순위·매출에 직접적 영향**

따라서 판매자들은 문의 답변에 **매일 수시간**을 쓰는 구조이며

정확하고 빠른 답변을 원하는 니즈가 매우 강함.

---

## 📌 3. 타겟 사용자 및 사용 사례

### 핵심 사용자

1. **오늘의집에만 입점한 중소 브랜드 대표/운영자**
    - 1인~3인 사업체
    - CS 자동화에 관심 높음
    - 시간 절약에 민감
2. **커튼/침구/생활 가구 카테고리 판매자**
    - 정형화된 규칙이 있는 제품군
    - 반복 CS가 매우 많음
3. **상품 상세 가이드 있음에도 '대입 계산이 어려운' 문제를 가진 고객층**

### 구체적인 사용 사례

#### 사례 1: 아침 출근 전 문의 처리
브랜드 대표가 아침에 일어나 오늘의집 Q&A를 확인하니 밤사이 15건의 문의가 쌓여있습니다. 각 문의를 복사하여 AI 상담 에이전트에 붙여넣으면 3~5초 내로 브랜드 톤에 맞춘 정확한 답변 초안을 받고, 검토 후 바로 오늘의집에 등록합니다.

**결과**: 기존 30~40분 소요되던 작업이 5분 내로 완료됩니다.

#### 사례 2: 복잡한 치수 계산 문의
"가로 210에 세로 230인데 몇 장 주문해야 하나요? 이음선 생기나요?"라는 문의가 들어왔습니다. 판매자는 문의 내용을 AI에게 전달하고, AI는 규칙 엔진으로 실측 가로 × 1.5배 계산, 패널 조합 계산, 이음선 발생 여부를 자동으로 판단하여 완성형 답변을 제공합니다.

**AI 답변 예시**: "안녕하세요, 맞춤제작 커튼 전문업체 데코지오입니다. 고객님의 경우 350폭 3장을 추천드리며, 3장 이상이므로 이음선이 발생할 수 있습니다..."

#### 사례 3: 브랜드 일관성 유지
여러 직원이 CS를 담당할 경우 답변 톤이 제각각일 수 있습니다. AI 상담 에이전트는 브랜드별로 설정된 톤("안녕하세요, 맞춤제작 커튼 전문업체 데코지오입니다. 😊")을 항상 유지하여 브랜드 이미지를 일관되게 관리할 수 있습니다.

---

## 📌 4. 제공 가치 (Value Proposition)

### ✔ 브랜드별 음성 톤으로 답변

“안녕하세요, 맞춤제작 커튼 전문업체 데코지오입니다. 😊”

이런 식으로 **브랜드 대표 톤을 동일하게 유지**.

### ✔ 브랜드의 공식 정책+문서를 기반으로 정확한 답변

커튼 장수, 가로폭 조합, 이음선 발생 여부 등

브랜드의 정해진 규칙을 AI가 직접 적용.

### ✔ 오늘의집 Q&A 답변 속도 획기적 개선

기존: 2~3분 소요

AI 사용: 3~5초

### ✔ 완전 자동이 아닌 ‘반자동’

- 잘못된 답변 자동 업로드 리스크 없음
- 판매자가 검토 후 붙여넣기만 하면 됨
- 안정성과 통제력을 모두 보유

---

## 📌 5. 경쟁사 분석

### 1. 챗봇 플랫폼 (채널톡, 카카오톡 상담톡 등)

**해결 방식**: 웹사이트/앱에 챗봇 위젯 설치, 시나리오 기반 자동 응답

**한계**:
- 오늘의집은 공식 API 미제공으로 챗봇 연동 불가
- 시나리오 작성에 많은 시간 필요
- 복잡한 치수 계산 등 규칙 기반 응답 처리 어려움

**차별점**: 우리는 오늘의집 Q&A에 특화되어 있으며, 복사-붙여넣기만으로 사용 가능

### 2. AI 챗봇 SaaS (Zendesk AI, Intercom 등)

**해결 방식**: AI 기반 자동 응답, 티켓 관리 시스템

**한계**:
- 글로벌 서비스로 한국어 및 특수 도메인(커튼 치수 계산 등) 대응 약함
- 월 수십만 원 이상의 높은 비용
- 오늘의집 플랫폼 직접 연동 불가

**차별점**: 우리는 한국 중소 브랜드 대상, 월 3~10만 원 수준의 저렴한 가격, 브랜드별 맞춤형 규칙 엔진 제공

### 3. GPT 기반 직접 활용

**해결 방식**: ChatGPT에 문의 내용 복사하여 답변 요청

**한계**:
- 브랜드 톤, 정책, 규칙을 매번 프롬프트에 입력해야 함
- 치수 계산 등 정확한 수치 처리 어려움
- 답변 일관성 부족

**차별점**: 우리는 브랜드별 File Search로 정책 문서 자동 참조, 규칙 엔진으로 정확한 계산, 일관된 톤 유지

### 핵심 차별점 요약

1. **오늘의집 판매자 특화**: API 없는 오늘의집 환경에 최적화된 '복사-붙여넣기' 워크플로우
2. **브랜드 맞춤형 규칙 엔진**: 커튼 치수 계산 등 도메인 특화 로직 자동 처리
3. **반자동 시스템**: 완전 자동이 아닌 검토 후 등록 방식으로 안정성과 통제력 확보
4. **저렴한 가격**: 월 3~10만 원으로 중소 브랜드도 부담 없이 사용 가능
5. **빠른 도입**: 문서 업로드만으로 1시간 내 사용 시작 가능

---

## 📌 6. 핵심 기능 정의

---

### 6.1 **AI 답변 생성 기능 (핵심)**

**입력:**

- 고객 문의 문장 (오늘의집 Q&A에서 복사)
- (선택) 치수 정보 (가로/세로/설치 타입)

**처리:**

1. 규칙 엔진으로 수량·높이·이음선 여부 계산
2. Google File Search로 브랜드 문서/가이드 검색
3. 브랜드별 system prompt 적용
4. Gemini 모델로 자연스러운 답변 생성

**출력:**

- 데코지오 톤의 완성형 답변
- ✔ 핵심 문장 포함
- 이음선/레일/추가요금 등 자동 안내
- 붙여넣기 형식 최적화

---

### 6.2 **규칙 엔진 (Rule Engine)**

### 기능:

- 실측 가로 × 1.5배 → 목표 가로폭 계산
- 70/140/280/350 단위로 패널 조합 계산
- 장수 3장 이상 → 이음선 경고
- 아일렛/핀형/박스 유형별 높이 계산
- 박스 깊이 기준 레일 추천

규칙 엔진은 **브랜드가 달라도 확장 가능**해야 함.

출력(JSON):

```json
{
  "targetWidth": 322.5,
  "recommendedWidth": 350,
  "recommendedPanels": 3,
  "recommendedHeight": 241,
  "hasSeam": true}

```

---

### 6.3 **브랜드 전용 File Search Store**

각 브랜드는 단일 File Search Store를 가진다.

스토어 내 저장 문서:

- `policy.txt` (공식 치수/가이드/규칙 문서)
- `qna.txt` (실제 CS 패턴 기반 Q&A)
- `tone.txt` (인사말/마무리 톤)
- `product-info.txt` (필요 시 추가)

File Search가 자동으로:

- 청킹
- 임베딩
- 검색
- RAG 최적화
    
    을 처리한다.
    

---

### 6.4 **간단한 Web Admin (Phase 2)**

기능:

- 브랜드 문서 업로드
- 스토어 갱신
- 문의 로그 확인
- 답변 품질 개선 / 피드백 수집

MVP 단계에서는 **CLI 기반 문서 업로드**로 충분.

---

## 📌 7. 기술 아키텍처

```
[User/Brand]
   ↓ (질문 복붙)
[Frontend] → POST /api/answer
   ↓
[Next.js API Layer]
   1) 규칙 엔진 실행
   2) File Search Store 연결
   3) Gemini generateContent 호출
   ↓
[Gemini + File Search]  ← 브랜드별 문서
   ↓
[AI 답변] → Frontend → 복붙하여 오늘의집에 등록

```

---

## 📌 8. 시스템 상세 설명

---

### 8.1 API: `/api/brands/[brandId]/answer`

**Request**

```json
{
  "question": "가로 210에 세로 230인데 몇 장 주문해야 하나요?",
  "sizeInfo": {
    "width": 210,
    "height": 230,
    "style": "eyelet"
  }
}

```

**Process**

1. 규칙 엔진 → 패널 조합 계산
2. File Search 검색(정책 + Q&A)
3. System Prompt 적용
4. AI 응답 생성

**Response**

```json
{
  "answer": "안녕하세요, 맞춤제작 커튼 전문업체 데코지오입니다. 😊 ... "
}

```

---

## 📌 9. File Search 사용 방식

- 브랜드 전용 스토어 1개 생성
- 문서 업로드 시 자동 임베딩
- 다음과 같이 RAG를 활성화:

```tsx
tools: [
  {
    fileSearch: {
      fileSearchStoreNames: [brand.storeName]
    }
  }
]

```

Gemini는 문서 기반으로 자동으로:

- 관련 청크 검색
- 답변 컨텍스트 제공

LangChain 불필요.

---

## 📌 10. 비기능 요구사항(NFR)

### 안정성

- 청크 검색 실패 시 fallback 메시지 생성해야 함

### 보안

- 브랜드 문서는 브랜드별 스토어로 분리
- 브랜드 간 데이터 섞이지 않도록 주의

### 확장성

- 브랜드 20개 이상 시에도 파일스토어 기반으로 유연 확장
- 문서 용량은 Tier 1(10GB)면 충분

### 반응속도

- 목표 응답 시간: **3~7초**

---

## 📌 11. 목표 및 성공 지표 (KPI)

### 목표
오늘의집 판매자의 반복적인 CS 업무를 AI로 자동화하여 시간을 절약하고, 빠르고 정확한 답변으로 고객 만족도와 매출을 향상시킨다.

### 성공 지표

| 지표 | 목표값 | 측정 방법 |
|------|--------|-----------|
| 답변 생성 시간 | 7초 이하 | API 응답 시간 측정 |
| CS 대응 시간 절감율 | 70% 이상 | 사용 전후 시간 비교 설문 |
| 초기 판매자 확보 | 5개 브랜드 | 1개월 내 유료 전환 |
| 월 구독 전환율 | 30% 이상 | 무료 체험 → 유료 전환율 |
| 답변 정확도 (수정률) | 수정 10% 이하 | 생성 답변 중 수정 필요 비율 |
| 브랜드당 월간 처리 문의 수 | 평균 200건 이상 | 사용 로그 분석 |

---

## 📌 12. MVP 요구사항

### Phase 1: 핵심 기능

#### 1. 브랜드 온보딩
- 브랜드 기본 정보 등록 (브랜드명, 대표 인사말, 마무리 멘트)
- File Search Store 자동 생성
- 정책 문서 업로드 (policy.txt, qna.txt, tone.txt)

#### 2. AI 답변 생성 API
- 고객 문의 입력 (텍스트 복사-붙여넣기)
- 선택적 치수 정보 입력 (가로/세로/설치 타입)
- 규칙 엔진 실행하여 패널 조합, 이음선 여부 계산
- File Search로 브랜드 문서 검색
- Gemini 모델로 브랜드 톤에 맞춘 답변 생성
- 생성된 답변 텍스트 출력 (복사 버튼 제공)

#### 3. 규칙 엔진 (커튼 도메인)
- 실측 가로 × 1.5배 → 목표 가로폭 계산
- 70/140/280/350 단위로 패널 조합 계산
- 장수 3장 이상 → 이음선 경고
- 아일렛/핀형/박스 유형별 높이 계산
- 박스 깊이 기준 레일 추천

#### 4. 간단한 Web UI
- 문의 입력 폼
- 답변 결과 표시 및 복사 기능
- 브랜드 선택 드롭다운 (향후 멀티 브랜드 대응)

### Phase 2: 관리 기능

#### 5. 브랜드 문서 관리
- Web Admin에서 문서 업로드/수정/삭제
- File Search Store 자동 갱신

#### 6. 사용 로그 및 분석
- 처리된 문의 내역 저장
- 답변 수정 여부 트래킹

### Phase 3: 확장 기능

#### 7. 멀티 브랜드 지원
- 브랜드별 독립적인 File Search Store
- 브랜드별 구독 관리

#### 8. 고도화 기능
- 이미지에서 치수 자동 추출 (OCR)
- 문의 내용에서 치수 자동 파싱

### 핵심 사용자 플로우 (MVP)

#### 플로우 1: 판매자 온보딩
1. 브랜드 정보 입력
2. 정책 문서 3개 업로드 (policy.txt, qna.txt, tone.txt)
3. 온보딩 완료 (약 10분 소요)

#### 플로우 2: 일상적인 문의 처리
1. 오늘의집 Q&A에서 고객 문의 복사
2. AI 상담 에이전트 웹페이지 접속
3. 문의 내용 붙여넣기
4. (필요시) 치수 정보 입력
5. "답변 생성" 버튼 클릭
6. 3~5초 대기
7. 생성된 답변 검토
8. "복사" 버튼 클릭
9. 오늘의집 Q&A에 답변 붙여넣기 및 등록

#### 플로우 3: 문서 업데이트
1. 정책 변경 시 Web Admin 접속
2. 해당 문서 수정 또는 재업로드
3. 자동으로 File Search Store 갱신
4. 즉시 새로운 정책 반영

---

## 📌 13. 로드맵

### Phase 1 (1~2주)

- 규칙 엔진 구축
- File Search Store 생성
- System prompt 확정
- `/api/answer` MVP 완료
- 브랜드 1곳 데모 제공

### Phase 2 (3~4주)

- Web Admin(문서 업로드 UI)
- Q&A 로그 저장/분석
- 답변 샘플 평가/수정 기능

### Phase 3

- 멀티 브랜드 지원
- 자동 치수 파싱 기능 강화
- 이미지 기반 치수 추출(옵션)

---

## 📌 14. 리스크 및 대응

| 리스크 | 대응 |
| --- | --- |
| File Search 비용 증가 | 정책 문서를 txt 기준으로 최소화 |
| 답변 오류 | 규칙 엔진 + 강력한 system prompt로 제어 |
| 톤 불일치 | tone.txt로 브랜드별 문구 고정 |
| 오늘의집 레이아웃 변경 | API 기반 아님 → 영향 없음 |

---

## 📌 15. 마무리

이 PRD는 병스커의 현재 역량, 개발 시간(하루 3시간), 현실적인 기술 스택, 오늘의집 판매자들의 강력한 니즈를 기반으로 설계되었다.

이대로 구현하면 **매우 빠르게 1~2주 안에 데모 완성 → 첫 고객 확보 → 수익화 가능**하다.